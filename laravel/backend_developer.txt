Fejlesztői dokumentáció

	Az adatokat egy Mysql adatbázisban kezeljük.
	FA működéshez szükséges migrációs file-ok.	
	Users table:
		Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('email')->unique();
            $table->timestamp('email_verified_at')->nullable();
            $table->string('password');
            $table->rememberToken();
            $table->timestamps();
        });

	Services table:
		Schema::create('services', function (Blueprint $table) {
            $table->id();
            $table->string('service');
            $table->integer('duration');
            $table->integer('price');
            $table->string('description', 300)->nullable();
            $table->timestamps();
        });
	
	Bookings table:
	    Schema::create('bookings', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id_1')->constrained()->onDelete('cascade')->unsigned();		//Dolgozó ID
            $table->foreignId('user_id_0')->constrained()->onDelete('cascade')->unsigned();		//Vendég ID
            $table->foreignId('service_id')->constrained()->onDelete('cascade')->unsigned();	//Szoldáltatás ID
            $table->dateTime('booking_time');													//Foglalás ideje
            $table->timestamps();
	    });
	    
	Kiegészítő mezők hozzáadása a Users táblához:
		Schema::table('users', function (Blueprint $table) {
            $table->integer( 'admin' )->after( "remember_token" );
            $table->integer( 'role' );
            $table->string('phone')->nullable();
            $table->enum('gender',['férfi','nő','szabadon választott'])->nullable();
            $table->string('invoice_address')->nullable();
            $table->string('invoice_postcode')->nullable();
            $table->string('invoice_city')->nullable();
            $table->date('birth_date')->nullable();
            $table->string('qualifications')->nullable();
            $table->string('description')->nullable();
            $table->integer( 'login_counter' )->default( 0 )->after( "remember_token" );
            $table->timestamp( 'banning_time' )->nullable()->default( null )->after( "login_counter" );
        });
	    
	    
	_Validáció
namespace App\Http\Controllers\Api;
Validáción mennek keresztül azok a folyamatok, amelyenek során adatbevitelre kerül sor.
A ResponseController-ben van összeállítva a sendRespponse és a sendError funkció.

	_Regisztráció
Route: /api/register
	A "namespace App\Http\Controllers\Api;"-ban található "register" funkciót hívja meg.
	A regisztráció során az adminLevel-t kettes értéket állít be az első user-nek, a többiek pedig nullás értéket kapnak.
		$adminLevel = User::count() === 0 ? 2 : 0;
		
	A "name", "email", password" mezők kitöltése kötelező és minden regisztráló nullás "role" értéket kap.
		    "name" => $request["name"],
            "email" => $request["email"],
            "password" => bcrypt( $request["password"]),	//A jelszót titkosítva tárolja az adatbázis
            "admin" => $adminLevel,
            "role" => 0
            
    
	A RegisterRequest-ben található követelmények és hibaüzenetek:
	A regisztráció kitöltéséhez tartozó követelmények:
	        "name" => "required|min:3|max:51",
            "email" => "required|email|unique:users,email",
            "password" => [ "required",
                            "min:8",
                            "max:20",
                            "regex:/[a-z]/",
                            "regex:/[A-Z]/",
                            "regex:/[0-9]/"],
            "confirm_password" => "required|same:password"
            
    A hibaüzenetek és a hozzá tartozó triggerek:
			"name.required" => "A név mező nem lehet üres.",
            "name.min" => "A név túl rövid.",
            "name.max" => "A név túl hosszú.",
            //"name.unique" => "Ez a név már foglalt.", //|unique:users,name
            //Amennyiben inkább felhasználó neveket szeretnénk használni.
            
            "email.required" => "Az email mező nem lehet üres.",
            "email.unique" => "Az email cím már foglalt.",

            "password.required" => "A jelszó mező nem lehet üres.",
            "password.min" => "A jelszó túl rövid.",
            "password.max" => "A jelszó túl hosszú.",
            "password.regex" => "A jelszónak tartalmaznia kell kisbetűt, nagybetűt és számot is.",
            "confirm_password" => "Nem megegyező jelszó."
            
	_Belépés
Route: /api/login
	A "namespace App\Http\Controllers\Api;"-ban található "login" funkciót hívja meg.
	A login azonosítás "email" és "password" megadásával történik.
		    "email" => "required",
            "password" => "required"
    A hibaüzenetek és a hozzá tartozó triggerek:
			"email.required" => "Email megadása elvárt.",
            "password.required" => "Jelszó megadása elvárt."
             
	A belépés során a Laravel lekérdezi az aktuális időt a Carbon összetevőjén keresztül.
	Az Auth összetevő azonosítja a user-t. Létrehozza a $bannedTime-ot és tárolja benne a user-hez tartozó értéket.
	Ha a $bannedTime kevesebb vagy egyenlő a Carbon által lekérdezett idővel, törli a bannedTime-ot és tokent hoz létre a user-nak.
		$token = $authUser->createToken( $authUser->email."Token" )->plainTextToken;
	A frontendnek visszaküldi az adatokat és egy "Sikeres bejelentkezés." üzenetet.
	Ha a bejelentkezés sikertelen, lefut a loginCounter és amennyiben kevesebb vagy egyennlő a számláló értéke, hibaüzenetet ad és a hibás próbálkozások számát.
	
	



    //Csak tesztelésre használva, TÖRÖLNI KELL
    //     public function getTokens() {

    //     $tokens = DB::table( "personal_access_tokens" )->get();

    //     return $tokens;
    // }
    
    {
	"success": false,
	"message": "Beviteli hiba.",
	"data": {
		"phone": [
			"The phone field must be a string."
		],
		"gender": [
			"The selected gender is invalid."
		],
		"invoice_address": [
			"The invoice address field must be a string."
		],
		"invoice_postcode": [
			"The invoice postcode field must be an integer."
		],
		"invoice_city": [
			"The invoice city field must be a string."
		],
		"birth_date": [
			"The birth date field must match the format Y-m-d."
		],
		"qualifications": [
			"The qualifications field must be a string."
		],
		"description": [
			"The description field must be a string."
		]
	}
}
    
    
	"name":"Staub József",
	"email":"staubjoci@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345"

	"name":"Ottó Attila",
	"email":"harvester667@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345"
	
	18|DAu5H13nR0DXfoiv5DRmNP3DXXSHh9kcNOwrYnMF3265791a
	
	"name":"Pál-Szabó András",
	"email":"andras.palszabo@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345"
	
	{
	"success": true,
	"data": {
		"id": 4,
		"name": "Metz-Torgella Diana",
		"email": "anid85@gmail.com",
		"email_verified_at": null,
		"created_at": "2025-04-24T14:19:34.000000Z",
		"updated_at": "2025-04-25T12:03:21.000000Z",
		"admin": 0,
		"role": 0,
		"active": 1,
		"phone": "06708833850",
		"gender": "nő",
		"invoice_address": "Lakatos út",
		"invoice_postcode": null,
		"invoice_city": "Budapest",
		"birth_date": "1985-07-19",
		"qualifications": "fodrász",
		"description": "Új fazonok vágása",
		"login_counter": 0,
		"banning_time": null
	},
	"message": "Profil adatok módosítva."
}
	"name":"Benzink Út",
	"email":"kamu@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345"
	
	"name":"BIpa Fa",
	"email":"kamufa@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345"
	
	"name":"Kri Fa",
	"email":"kmamia@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345"
	
	"name":"Kupa df",
	"email":"krumpé@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345"
	
	"name":"Süki Gyöngyi",
	"email":"suki.gyongyi+laravel@gmail.com",
	"password":"Adult12345",
	"confirm_password":"Adult12345",
	
	5|CVwYjAxIOUuWT8kmFLopF2QjXbp23T6wh25ScYZ75b759d5e
	
	{
	"phone":"206541232",
	"birth_date":"1963-11-03",
	"gender":"szabadon választott",
	"invoice_address":"Fő út 3.",
	"invoice_postcode":"3120",
	"invoice_city":"Kerticsap",
	"qualifications":"",
	"description":""
}

		{
			"id": 3,
			"name": "Pete Orsolya",
			"email": "pete.orsi@gmail.com",
			"email_verified_at": null,
			"created_at": "2025-04-24T12:04:54.000000Z",
			"updated_at": "2025-04-24T14:13:58.000000Z",
			"admin": 0,
			"role": 0,
			"active": 1,
			"phone": "06308556235",
			"gender": "nő",
			"invoice_address": null,
			"invoice_postcode": null,
			"invoice_city": null,
			"birth_date": "1979-06-15",
			"qualifications": null,
			"description": null,
			"login_counter": 0,
			"banning_time": null
		}
		
	32|zYvgHZNWP1eBcIUQ7NFpfBFmYNPGsFgWlwmxuVR4203d9a28
	
	
				"id": 4,
			"name": "Metz-Torgella Diana",
			"email": "anid85@gmail.com",
			"email_verified_at": null,
			"created_at": "2025-04-24T14:19:34.000000Z",
			"updated_at": "2025-04-24T14:19:34.000000Z",
			"admin": 0,
			"role": 0,
			"active": 1,
			"phone": null,
			"gender": null,
			"invoice_address": null,
			"invoice_postcode": null,
			"invoice_city": null,
			"birth_date": null,
			"qualifications": null,
			"description": null,
			"login_counter": 0,
			"banning_time": null
		}
		36|tClB00u4yjUTyNOsJrFCDuuntz2lvWqPfyYfbMvu0ec1f882
